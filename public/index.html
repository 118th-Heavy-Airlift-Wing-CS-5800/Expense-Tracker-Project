<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Expense Tracker</title>
</head>
<body>
  <h1>Simple Expense Tracker</h1>

  <h2>Set Budget</h2>
  <input type="number" id="budgetAmount" placeholder="Enter your budget">
  <button onclick="setBudget()">Set Budget</button>

  <h3 id="budgetDisplay">Budget: $0.00</h3>
  <h3 id="balanceDisplay">Remaining Balance: $0.00</h3>

  <h2>Add Expense</h2>
  <input type="text" id="expenseCategory" placeholder="Category">
  <input type="number" id="expenseAmount" placeholder="Amount">
  <button onclick="addExpense()">Add Expense</button>

  <h3>Expenses</h3>
  <ul id="expenseList"></ul>

  <h3 id="totalExpenses">Total Expenses: $0.00</h3>

  <script>
    let total = 0;
    let budget = 0;

    function addExpense() {
      const categoryInput = document.getElementById("expenseCategory");
      const amountInput = document.getElementById("expenseAmount");

      const category = categoryInput.value.trim();
      const amount = parseFloat(amountInput.value);

      if (category === "" || isNaN(amount)) {
        alert("Please enter a valid category and amount.");
        return;
      }

      const li = document.createElement("li");
      li.textContent = `Category: ${category}, Amount: $${amount.toFixed(2)} `;

      const deleteBtn = document.createElement("button");
      deleteBtn.textContent = "Delete";
      deleteBtn.style.marginLeft = "10px";
      deleteBtn.onclick = function () {
        li.remove();
        total -= amount;
        updateTotal();
        updateBalance();
        highlightIfOverspending();
      };

      li.appendChild(deleteBtn);
      document.getElementById("expenseList").appendChild(li);

      total += amount;
      updateTotal();
      updateBalance();
      highlightIfOverspending();

      categoryInput.value = "";
      amountInput.value = "";
    }

    function setBudget() {
      const budgetInput = document.getElementById("budgetAmount");
      const value = parseFloat(budgetInput.value);

      if (isNaN(value) || value < 0) {
        alert("Please enter a valid budget amount.");
        return;
      }

      budget = value;
      document.getElementById("budgetDisplay").textContent = `Budget: $${budget.toFixed(2)}`;
      updateBalance();
      highlightIfOverspending();

      budgetInput.value = "";
    }

    function updateTotal() {
      document.getElementById("totalExpenses").textContent = `Total Expenses: $${total.toFixed(2)}`;
    }

    function updateBalance() {
      const balance = budget - total;
      document.getElementById("balanceDisplay").textContent = `Remaining Balance: $${balance.toFixed(2)}`;
    }

    function highlightIfOverspending() {
      const totalElem = document.getElementById("totalExpenses");
      const balanceElem = document.getElementById("balanceDisplay");

      if (total > budget) {
        totalElem.style.color = "red";
        balanceElem.style.color = "red";
        balanceElem.textContent += " âš  Over Budget!";
      } else {
        totalElem.style.color = "black";
        balanceElem.style.color = "black";
      }
    }
  </script>
</body>
</html>
